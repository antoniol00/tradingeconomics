{% extends "base.html" %}
{% block title %}Home - Compare Countries{% endblock %}
{% block content %}
    <h1>Compare Economic Indicators</h1>
    <form method="POST" action="/">
        <div class="mb-3">
            <label for="country1" class="form-label">First country:</label>
            <select id="country1" name="country1" class="form-select" required>
                <option value="">Select Country</option>
                {% for country in countries %}
                    <option value="{{ country }}">{{ country }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="country2" class="form-label">Second country:</label>
            <select id="country2" name="country2" class="form-select" required>
                <option value="">Select Country</option>
                {% for country in countries %}
                    <option value="{{ country }}">{{ country }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Compare</button>
    </form>

    <script>
        function updateSelects() {
            const select1 = document.getElementById('country1');
            const select2 = document.getElementById('country2');

            const selected1 = select1.value;
            const selected2 = select2.value;

            // Actualiza options del select2
            for (const option of select2.options) {
                if (option.value !== "") {
                    option.disabled = (option.value === selected1);
                }
            }
            // Actualiza options del select1
            for (const option of select1.options) {
                if (option.value !== "") {
                    option.disabled = (option.value === selected2);
                }
            }
        }

        document.getElementById('country1').addEventListener('change', updateSelects);
        document.getElementById('country2').addEventListener('change', updateSelects);
    </script>
{% endblock %}
